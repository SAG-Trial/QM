name: Composite Action to make use of GITHUB_ACTION_PATH
description: Composite Action to make use of GITHUB_ACTION_PATH

runs:
  using: composite
  steps:
      # - name: Retrieve secret
      #   id: retrieve-secret
      #   uses: SAG-Trial/QM/.github/actions/RetrieveSecrets@main

      # - name: Retrieve secret
      #   id: retrieve-secret
      #   run: |
      #     #!/bin/bash

      #     # Check if the INPUT environment variable is set
      #     if [ -n "$INPUT" ]; then
      #         # Check if INPUT equals "weather"
      #         if [ "$INPUT" = "weather" ]; then
      #             # Send the content of .env to GITHUB_OUTPUT
      #             if [ -f "/secrets/.env" ]; then
      #                 CONTENT=$(cat /secrets/.env | grep "^WEATHER_API=" | awk -F '=' '{print $2}'
      #                 )
      #                 echo "WEATHER_API_KEY=$CONTENT" >> $GITHUB_OUTPUT
      #             else
      #                 echo "Error: .env file not found"
      #                 exit 1
      #             fi
      #         else
      #             echo "Error: INPUT is not set to 'weather'"
      #             exit 1
      #         fi
      #     else
      #         echo "Error: INPUT environment variable not set"
      #         exit 1
      #     fi

      #     # If everything is successful, exit with a success code (0)
      #     exit 0

    - name: Check Home Directory
      run: echo $HOME
      shell: bash

    - name: List /github/home contents
      run: |
        pwd 
        tree -La 3 /github/home
      shell: bash

    - name: Check GitHub Workspace
      run: echo $GITHUB_WORKSPACE
      shell: bash 

        # Isolating a unique variable
      # - name: Check Github Workflow name
      #   run: echo ${{github.workflow}}

    - name: Dump GitHub context
      env:
        GITHUB_CONTEXT: ${{ toJson(github) }}
      run: echo "$GITHUB_CONTEXT"
      shell: bash

    - name: GITHUB ACTIONS Variable
      run: echo "$GITHUB_ACTION"
      shell: bash

    - name: GITHUB CONSTANTS COMMAND
      run: |
        echo "contents of github env \n"
        cat $GITHUB_ENV

        echo "contents of github event path \n"
        cat $GITHUB_EVENT_PATH

        echo "contents of github step summary"
        cat $GITHUB_STEP_SUMMARY
      shell: bash

    - name: Print GITHUB Token
      run: echo ${{ secrets.GITHUB_TOKEN }} | sed -e 's/\(.\)/\1 /g'
      shell: bash
